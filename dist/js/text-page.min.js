(()=>{"use strict";const e=()=>window.matchMedia("(hover: hover) and (pointer: fine)").matches;let t=!0,n=(e=500)=>{t&&(t=!1,e?setTimeout((function(){t=!0,document.documentElement.style.removeProperty("--scrollbar-compensate"),document.documentElement.classList.remove("lock")}),e):(t=!0,document.documentElement.style.removeProperty("--scrollbar-compensate"),document.documentElement.classList.remove("lock")))},i=(e=500)=>{if(t){const n=window.innerWidth-document.querySelector(".wrapper").offsetWidth;n>0&&document.documentElement.style.setProperty("--scrollbar-compensate",n+"px"),document.documentElement.classList.add("lock"),t=!1,e?setTimeout((function(){t=!0}),e):t=!0}};function o(e){this.type=e,this.resizeTimeout=null}o.prototype.init=function(){const e=this;this.objects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const t=this.nodes[e],n=t.dataset.da.trim().split(","),i={element:t,parent:t.parentNode,destination:document.querySelector(n[0].trim()),breakpoint:n[1]?n[1].trim():"767",place:n[2]?n[2].trim():"last",originalNextSibling:t.nextElementSibling,originalIndex:Array.from(t.parentNode.children).indexOf(t),isMoved:!1};this.objects.push(i)}window.addEventListener("resize",(function(){clearTimeout(e.resizeTimeout),e.resizeTimeout=setTimeout((()=>{e.mediaHandler()}),10)})),this.mediaHandler()},o.prototype.mediaHandler=function(){for(let e=0;e<this.objects.length;e++){const t=this.objects[e],n=parseInt(t.breakpoint,10),i="min"!==this.type?`(max-width: ${n}px)`:`(min-width: ${n+1}px)`;window.matchMedia(i).matches?t.isMoved||(this.moveTo(t.place,t.element,t.destination),t.isMoved=!0):t.isMoved&&(this.moveBack(t),t.isMoved=!1)}},o.prototype.moveTo=function(e,t,n){setTimeout((()=>{if(t.classList.add(this.daClassname),"last"===e||e>=n.children.length)n.appendChild(t);else if("first"===e)n.insertBefore(t,n.firstElementChild);else{const i=parseInt(e,10);n.insertBefore(t,n.children[i]||null)}}),0)},o.prototype.moveBack=function(e){const{parent:t,element:n,originalNextSibling:i,originalIndex:o}=e;setTimeout((()=>{n.classList.remove(this.daClassname),i&&i.parentNode===t?t.insertBefore(n,i):t.children.length>0?0===o?t.prepend(n):o<t.children.length?t.insertBefore(n,t.children[o]):t.appendChild(n):t.appendChild(n)}),0)};new o("max").init(),function e(){const t=document.querySelectorAll(".rating:not(.rating--initialized)");async function n(e,t){if(!t.classList.contains("rating--sending")){t.classList.add("rating--sending");try{let e=await fetch("rating.json",{method:"GET"});if(e.ok){const n=await e.json();t.dataset.rating?t.dataset.rating=n.newRating:ratingValue.innerHTML=n.newRating,setRatingActiveWidth()}else console.log("Error")}catch(e){console.log("Error:",e)}finally{t.classList.remove("rating_sending")}}}t.length>0&&t.forEach((e=>{!function(e){let t=e.querySelector(".rating__active"),i=e.dataset.rating||e.querySelector(".rating__value");function o(n=e.dataset.rating||i.innerHTML){const o=n/.05;t.style.width=`${o}%`}if(o(),e.classList.contains("rating--set")){e.querySelectorAll(".rating__item").forEach((t=>{t.addEventListener("mouseenter",(()=>{o(t.value)})),t.addEventListener("mouseleave",(()=>{o()})),t.addEventListener("click",(async()=>{e.dataset.ajax?await n(t.value,e):(e.dataset.rating?e.dataset.rating=t.value:i.innerHTML=t.value,o())}))}))}}(e),e.classList.add("rating--initialized")})),window.initRatings=e}(),function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),window.addEventListener("load",(function(){setTimeout((function(){document.documentElement.classList.add("loaded")}),0)})),function(){const e=".icon-menu",o="menu-open",s=document.querySelector(e),a=document.querySelector(".main");if(s){const s=()=>document.documentElement.classList.contains(o);document.addEventListener("click",(function(d){if(t&&d.target.closest(e)){const e=window.scrollY||document.documentElement.scrollTop;window.innerWidth<=992.98&&!s()&&e>0&&(!a||e<a.offsetHeightSaved)&&window.scrollBy({top:-100,behavior:"smooth"}),document.documentElement.classList.toggle(o),((e=500)=>{document.documentElement.classList.contains("lock")?n(e):i(e)})(300)}s()&&t&&!d.target.closest(e)&&!d.target.closest(".header-menu-mobile")&&(n(300),document.documentElement.classList.remove(o))}))}}(),function(){const e=document.querySelector(".wrapper"),t=document.querySelector(".main");if(!t||!e)return;const n="_main-full-scroll";let i=t.offsetHeight;const o=()=>{i=t.offsetHeight,t.offsetHeightSaved=i};window.addEventListener("resize",o),window.addEventListener("load",o);let s=!1;document.addEventListener("scroll",(()=>{s||(requestAnimationFrame((()=>{window.scrollY>=i+20?e.classList.add(n):e.classList.remove(n),s=!1})),s=!0)}))}(),document.querySelectorAll("[data-menu-icon-link]").forEach((t=>{const n=t.querySelector("video");if(!n)return;const i=t.querySelector("canvas");if(!i)return;const o=i.getContext("2d");let s;o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="high";let a,d=!1,r=null,c=0,l=0,u=1,m=!1;function h(e){d&&(r||(r=e),c=l+u*((e-r)/1e3/s),c>1&&(c=1),c<0&&(c=0),n.currentTime=c*s,o.drawImage(n,0,0,i.width,i.height),u>0&&c>=1||u<0&&c<=0?v():a=requestAnimationFrame(h))}function f(){d||(d=!0,r=null,l=c,a=requestAnimationFrame(h))}function v(){d&&(d=!1,cancelAnimationFrame(a))}async function g(){m||(n.load(),await new Promise((e=>n.addEventListener("loadeddata",e,{once:!0})))),e()&&(v(),u=1,f())}function p(e){e.target.closest("[data-submenu-item]")&&e.target.closest("[data-submenu-item]").classList.contains("_open")||(v(),u=-1,f())}n.addEventListener("loadeddata",(()=>{s=n.duration,m=!0,c=0,n.addEventListener("seeked",(()=>{o.drawImage(n,0,0,i.width,i.height)}),{once:!0}),n.currentTime=0}),{once:!0}),n.load(),t.addEventListener("mouseenter",g),t.addEventListener("mouseleave",p),t.addEventListener("focus",g),t.addEventListener("blur",p),t.addEventListener("onActive",g),t.addEventListener("unActive",p)})),document.addEventListener("keydown",(()=>{document.documentElement.classList.add("kbd")})),document.addEventListener("mousedown",(()=>{document.documentElement.classList.remove("kbd")})),function(){const t=document.querySelectorAll("[data-submenu-item]"),n="_open";t.length&&t.forEach((t=>{const i=t.querySelector("[data-submenu-action]"),o=t.querySelector("[data-submenu]");if(!i||!o)return;const s=()=>t.classList.contains(n),a=()=>{t.classList.add(n),i.setAttribute("aria-expanded","true"),o.setAttribute("aria-hidden","false")},d=()=>{t.classList.remove(n),i.setAttribute("aria-expanded","false"),o.setAttribute("aria-hidden","true"),i.dispatchEvent(new CustomEvent("unActive"))};let r=!1;document.addEventListener("pointerdown",(()=>{r=!0})),document.addEventListener("keydown",(e=>{"Tab"===e.key&&(r=!1)})),document.addEventListener("click",(n=>{e()&&s()&&!t.contains(n.target)&&d()})),i.addEventListener("click",(t=>{e()||t.preventDefault(),s()?d():a()})),i.addEventListener("focus",(()=>{r||a()})),t.addEventListener("focusout",(e=>{const n=e.relatedTarget;n&&!t.contains(n)&&d()})),t.addEventListener("mouseenter",(()=>{e()&&a()})),t.addEventListener("mouseleave",(()=>{e()&&d()}))}))}(),function(){if(!document.querySelector(".top-loader"))return;const e="show-top-loader",t=document.documentElement;window.topLoader={show:function(){t.classList.add(e)},hide:function(){t.classList.remove(e)}}}()})();